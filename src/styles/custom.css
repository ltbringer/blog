/* KaTeX CSS for math rendering */
@import url('https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css');

/* Fonts: Cormorant Garamond (headings) + Source Serif 4 (body) */
@import url('https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300..700;1,300..700&family=Source+Serif+4:ital,opsz,wght@0,8..60,200..900;1,8..60,200..900&display=swap');

/* ============================================================
   TYPOGRAPHY
   ============================================================ */

:root {
  /* Font stacks */
  --sl-font: 'Source Serif 4', Georgia, 'Times New Roman', serif;
  --sl-font-headings: 'Cormorant Garamond', Georgia, serif;

  /* Body text */
  --sl-text-body: 1.125rem;
  --sl-text-body-sm: 0.875rem;

  /* Heading sizes — restrained, Tufte-style */
  --sl-text-h1: 2.5rem;
  --sl-text-h2: 1.875rem;
  --sl-text-h3: 1.5rem;
  --sl-text-h4: 1.25rem;
  --sl-text-h5: 1.125rem;

  /* Line height — generous for serif readability */
  --sl-line-height: 1.65;
  --sl-line-height-headings: 1.25;

  /* Content width — reading-friendly for blog posts */
  --sl-content-width: 42rem;
}

/* Optical sizing for Source Serif 4 */
body {
  font-optical-sizing: auto;
}

/* ============================================================
   COLOR PALETTE — DARK MODE (warm charcoal, not cold navy)
   ============================================================ */

:root {
  --sl-color-accent-low: #2a2418;
  --sl-color-accent: #c4a35a;
  --sl-color-accent-high: #e8d5a0;
  --sl-color-white: #e8e4de;
  --sl-color-gray-1: #d4d0ca;
  --sl-color-gray-2: #b0aca6;
  --sl-color-gray-3: #7a7672;
  --sl-color-gray-4: #4d4a46;
  --sl-color-gray-5: #2e2c28;
  --sl-color-gray-6: #232120;
  --sl-color-black: #1a1816;
}

/* ============================================================
   COLOR PALETTE — LIGHT MODE (Tufte warm off-white)
   ============================================================ */

:root[data-theme='light'] {
  --sl-color-accent-low: #f0eef8;
  --sl-color-accent: #4a4a8a;
  --sl-color-accent-high: #2d2d5e;
  --sl-color-white: #111111;
  --sl-color-gray-1: #1a1a1a;
  --sl-color-gray-2: #333333;
  --sl-color-gray-3: #555555;
  --sl-color-gray-4: #888888;
  --sl-color-gray-5: #d4d1c9;
  --sl-color-gray-6: #f0ece4;
  --sl-color-gray-7: #f7f4ee;
  --sl-color-black: #fffff8;
}

/* ============================================================
   HEADINGS — Cormorant Garamond, light weight
   ============================================================ */

.sl-markdown-content :is(h1, h2, h3, h4, h5, h6) {
  font-family: 'Cormorant Garamond', Georgia, serif;
  font-weight: 400;
  letter-spacing: 0.01em;
}

/* Page title: extra light — size provides the emphasis */
h1 {
  font-family: 'Cormorant Garamond', Georgia, serif;
  font-weight: 300;
}

/* h2: italic section markers (Tufte convention) */
.sl-markdown-content h2 {
  font-style: italic;
}

/* ============================================================
   LINKS — Tufte style: underline, no bold
   ============================================================ */

.sl-markdown-content a {
  font-weight: 400;
  text-decoration: underline;
  text-decoration-color: var(--sl-color-gray-4);
  text-underline-offset: 0.15em;
  transition: text-decoration-color 0.2s ease;
}

.sl-markdown-content a:hover {
  text-decoration-color: var(--sl-color-accent);
}

/* ============================================================
   BLOCKQUOTES — thin border, italic, editorial
   ============================================================ */

.sl-markdown-content blockquote {
  border-inline-start-width: 2px;
  border-inline-start-color: var(--sl-color-gray-5);
  font-style: italic;
  color: var(--sl-color-gray-3);
  padding-inline-start: 1.5rem;
}

/* ============================================================
   TABLES — sans-serif for data (better for numbers/alignment)
   ============================================================ */

.sl-markdown-content table {
  font-family: var(--sl-font-system);
  font-size: var(--sl-text-body-sm);
}

/* ============================================================
   CARDS — Tailwind UI aesthetic: subtle borders, clean hover
   ============================================================ */

.card {
  --sl-card-border: var(--sl-color-gray-5) !important;
  --sl-card-bg: var(--sl-color-black) !important;
  border-radius: 0.5rem !important;
  border-width: 1px !important;
  transition: border-color 0.2s ease, box-shadow 0.2s ease;
}

.card:hover {
  --sl-card-border: var(--sl-color-accent) !important;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.06);
}

/* Card title: sans-serif for UI chrome */
.card .title {
  font-family: var(--sl-font-system) !important;
  font-weight: 600 !important;
  letter-spacing: -0.01em;
}

/* Card icon: monochrome, no colored backgrounds */
.card .icon {
  border: 1px solid var(--sl-color-gray-5) !important;
  background-color: transparent !important;
  color: var(--sl-color-accent);
}

/* Card body: sans-serif, muted */
.card .body {
  font-family: var(--sl-font-system);
  color: var(--sl-color-gray-3);
  line-height: 1.55;
  font-size: var(--sl-text-body-sm);
}

/* Card grid: 3 columns on desktop, more breathing room */
.card-grid {
  gap: 1.25rem !important;
}

/* ============================================================
   HOMEPAGE — sans-serif, wider content, 3-col cards
   ============================================================ */

/* Pages with card grids (homepage) get a wider container */
.sl-container:has(.card-grid) {
  max-width: 72rem !important;
}

/* Homepage sans-serif: target pages containing a card grid */
main:has(.card-grid) {
  font-family: var(--sl-font-system);
}

main:has(.card-grid) :is(h1, h2, h3, h4, h5, h6) {
  font-family: var(--sl-font-system);
  font-style: normal;
}

/* 3-col card grid on desktop */
@media (min-width: 60rem) {
  .card-grid {
    grid-template-columns: repeat(3, 1fr) !important;
  }
}

/* ============================================================
   ASIDES — editorial callouts
   ============================================================ */

.starlight-aside {
  border-radius: 0.375rem;
  border-inline-start-width: 3px;
  padding: 1.25rem;
}

/* Aside title: sans-serif, small, uppercase — like a margin label */
.starlight-aside__title {
  font-family: var(--sl-font-system) !important;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  font-size: 0.75rem !important;
}

/* Aside content: slightly smaller, tighter line height */
.starlight-aside .starlight-aside__content {
  font-size: var(--sl-text-body-sm);
  line-height: 1.55;
}

/* ============================================================
   BADGES — modern pills, sans-serif
   ============================================================ */

.sl-badge {
  border-radius: 9999px !important;
  font-family: var(--sl-font-system) !important;
  font-size: 0.75rem !important;
  font-weight: 500;
  letter-spacing: 0.02em;
  padding: 0.2rem 0.65rem !important;
}

/* ============================================================
   NAV / HEADER
   ============================================================ */

/* Site title: sans-serif to match nav chrome */
.site-title {
  font-family: var(--sl-font-system) !important;
  font-weight: 500 !important;
  font-size: 1rem !important;
  letter-spacing: -0.01em;
}

/* Header and nav: sans-serif for UI */
.header {
  font-family: var(--sl-font-system);
}

/* ============================================================
   CODE BLOCKS
   ============================================================ */

.sl-markdown-content pre {
  border-radius: 0.375rem;
  border: 1px solid var(--sl-color-gray-5);
}

.sl-markdown-content :not(pre) > code {
  border-radius: 0.25rem;
  font-size: 0.85em;
}

/* ============================================================
   LAYOUT UTILITIES (preserved from original)
   ============================================================ */

/* Prevent page-wide horizontal scroll */
body, html {
  overflow-x: hidden;
}

/* Constrain images to container width */
img {
  max-width: 100%;
  height: auto;
}

/* Allow content sections to scroll horizontally if needed */
.sl-markdown-content img,
.sl-markdown-content .katex-display,
.sl-markdown-content pre,
.sl-markdown-content code {
  max-width: 100%;
  overflow-x: auto;
}

/* KaTeX math displays */
.katex-display {
  overflow-x: auto;
  overflow-y: hidden;
  max-width: 100%;
  display: block;
}